{"version":3,"sources":["webpack/bootstrap 211577cd27356e09fbf8","./js/main.js","./js/board.js","./js/snake.js","./js/view.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA,EAAC;;;;;;;ACVD;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;;AAEA;;;;;;;;AC/CA,mBAAkB;;AAElB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,kBAAiB,qBAAqB;AACtC,oBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 211577cd27356e09fbf8\n **/","var Board = require('./board.js');\nvar View = require('./view.js');\n\n$(function () {\n\n  var $el = $('.snake-board');\n  var board = new Board();\n\n  new View(board, $el);\n\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/main.js\n ** module id = 0\n ** module chunks = 0\n **/","var Snake = require('./snake.js');\n\n\nfunction Board() {\n  this.changes = [];\n  this.snake = new Snake(this.randomPosition(), this);\n  this.apple = this.randomPosition();\n  this.score = 0;\n}\n\nBoard.prototype.ROWS = 20;\nBoard.prototype.COLS = 20;\n\nBoard.prototype.randomPosition = function () {\n  var row = Math.floor(\n    Math.random() * (this.ROWS)\n  );\n  var col = Math.floor(\n    Math.random() * (this.COLS)\n  );\n\n  return [row, col];\n};\n\nBoard.prototype.moveApple = function () {\n  this.apple = this.randomPosition();\n};\n\nBoard.prototype.reset = function () {\n  this.snake = new Snake(this.randomPosition(), this);\n  this.apple = this.randomPosition();\n  this.score = 0;\n};\n\nBoard.prototype.snakeDead = function () {\n  var pos = this.snake.segments[0];\n\n  if (pos[0] >= this.ROWS || pos[0] < 0 || pos[1] >= this.COLS || pos[1] < 0 ) {\n    return true;\n  } else if (this.snake.segments.slice(1).some(function(el) {\n    return (el[0] === pos[0] && el[1] === pos[1]);\n  })) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nmodule.exports = Board;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/board.js\n ** module id = 1\n ** module chunks = 0\n **/","\nvar DIRECTIONS = { \"N\": [-1, 0], \"E\": [0, 1],  \"S\": [1, 0],  \"W\": [0, -1] };\n\nfunction Snake(startingPos, board){\n  this.direction = undefined;\n  this.segments = [startingPos];\n  this.name = \"Tom Cruise\";\n  this.board = board;\n  this.board.changes.push(startingPos);\n}\n\nSnake.prototype.move = function () {\n  var head = this.segments[0];\n  var newHead = plus(head, DIRECTIONS[this.direction]);\n\n  // debugger;\n  if (newHead[0] === this.board.apple[0] && newHead[1] === this.board.apple[1]) {\n    this.board.moveApple();\n  } else {\n    this.board.changes.push(this.segments.pop());\n  }\n\n\n  this.segments.unshift(newHead);\n  this.board.changes.push(newHead);\n\n};\n\nSnake.prototype.turn = function (newDir) {\n  this.direction = newDir;\n};\n\n\n\nfunction plus(head, otherPos) {\n  var x = head[0] + otherPos[0];\n  var y = head[1] + otherPos[1];\n  return [x, y];\n}\n\nmodule.exports = Snake;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/snake.js\n ** module id = 2\n ** module chunks = 0\n **/","\nfunction View(board, $el) {\n  this.board = board;\n  this.$el = $el;\n  this.setupBoard();\n  this.bindStuff();\n  this.begun = false;\n}\n\nView.prototype.KEYMAP = {\n  38: \"N\",\n  37: \"W\",\n  39: \"E\",\n  40: \"S\"\n};\n\n\nView.prototype.setupBoard = function () {\n  var $grid = $('<ul>');\n  for (var i = 0; i < this.board.ROWS; i++) {\n    for (var j = 0; j < this.board.COLS; j++) {\n      var $square = $('<li>').addClass('square').attr('data-pos', [i, j]);\n      $grid.append($square);\n    }\n  }\n  this.$el.append($grid);\n};\n\nView.prototype.bindStuff = function () {\n  $(document).on('keydown', this.handleMove.bind(this));\n  $('.restart').on('click', this.reset.bind(this));\n};\n\nView.prototype.update = function () {\n  var currentApple = this.board.apple;\n\n  this.board.snake.move();\n\n  if (this.board.snakeDead()) {\n    alert(\"you dead dawg\");\n    clearInterval(this.loop);\n  }\n\n  if (currentApple !== this.board.apple) {\n    this.$el.find('.appled').removeClass('appled');\n    this.$el.find(\"[data-pos='\" + this.board.apple + \"']\").addClass('appled');\n    this.board.score += 10;\n  }\n\n  while (this.board.changes.length > 0) {\n    var changePos = this.board.changes.pop().join(',');\n    var $toSnake = this.$el.find(\"[data-pos='\" + changePos + \"']\");\n    $toSnake.toggleClass('snaked');\n  }\n  $(\".score\").text(this.board.score);\n};\n\nView.prototype.reset = function () {\n  this.begun = false;\n  $('li').removeClass('snaked appled');\n  this.board.reset();\n  var fakeKey = {keyCode: 40};\n  this.handleMove(fakeKey);\n};\n\nView.prototype.play = function () {\n  this.loop = setInterval(this.update.bind(this), 100);\n};\n\nView.prototype.handleMove = function (e) {\n  if (this.KEYMAP[e.keyCode] !== undefined) {\n    this.board.snake.turn(this.KEYMAP[e.keyCode]);\n    if (!this.begun) {\n      this.begun = true;\n      this.$el.find(\"[data-pos='\" + this.board.apple + \"']\").addClass('appled');\n      this.play();\n    }\n  }\n};\n\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/view.js\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}